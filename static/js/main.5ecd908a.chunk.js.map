{"version":3,"sources":["components/User.js","components/UserList.js","components/Nav.js","components/AddUser.js","components/APIS.js","components/App.js","index.js"],"names":["cc","require","User","props","letter","color","Math","floor","random","fgcolor","contrastColor","bgColor","console","log","logoStyle","background","undefined","firstname","charAt","toUpperCase","className","style","lastname","email","onClick","handleclick","UserList","users","deleteUser","usercount","useState","flip","setflip","filter","u","fist_name","useEffect","Alert","variant","onClose","dismissible","Link","to","Container","id","Row","xs","map","Col","last_name","Nav","exact","activeClassName","textDecoration","fontSize","margin","toggleClass","AddUser","handleClick","username","password","newUser","setnewUser","success","setsuccess","failure","setfailure","Form","onSubmit","e","preventDefault","s","then","res","maxWidth","autoComplete","FloatingLabel","controlId","label","Control","type","placeholder","value","onChange","target","required","Apis","fetchUsers","addUser","App","setusers","toggle","settoggle","a","axios","get","data","allUsers","getUsers","validate","user","usename","length","addUserToServer","payload","pwd","post","targetemail","updatedList","queryParams","delete","basename","process","path","render","ReactDOM","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.5ecd908a.chunk.js","sourcesContent":["import React from 'react'\r\nimport './user.css'\r\nimport {MdDelete} from 'react-icons/md';\r\n\r\nconst ContrastColor = require('contrast-color');\r\nconst cc = new ContrastColor();\r\nconst User = (props) => {\r\n    const handle = ()=>{\r\n\r\n        props.handleclick(props.email);\r\n    }\r\n    const generateRandomColor= ()=>{\r\n        var r = Math.floor(Math.random() * 256);\r\n        var g = Math.floor(Math.random() * 256);\r\n        var b = Math.floor(Math.random() * 256);\r\n        return \"rgb(\" + r + \", \" + g + \", \" + b + \")\";\r\n    }\r\n    let letter;\r\n    let color = generateRandomColor();\r\n    const fgcolor = cc.contrastColor({bgColor:color});\r\n    console.log(color);\r\n    console.log(fgcolor);\r\n    const logoStyle = {\r\n        background : color,\r\n        color : fgcolor \r\n    }\r\n    if(props.firstname !== undefined)\r\n    {\r\n        letter = props.firstname.charAt(0).toUpperCase();\r\n    }\r\n    else\r\n    {\r\n        letter = '';\r\n    }\r\n   \r\n    return (\r\n        <div className='card'>\r\n           <i className=\"logo\"style={logoStyle}>{letter}</i>  \r\n           <div className=\"item\">\r\n           <h4>{props.firstname} <span>{props.lastname}</span></h4>\r\n            <span style={{color:\"#999999\"}}>{props.email}</span> \r\n            </div>\r\n            <span className=\"delete\" style={logoStyle} onClick={handle}><MdDelete/></span>   \r\n        </div>\r\n    )\r\n}\r\n\r\nexport default User\r\n","import React,{useState,useEffect} from 'react'\r\nimport Container from 'react-bootstrap/Container'\r\nimport Row from 'react-bootstrap/Row'\r\nimport Col from 'react-bootstrap/Col'\r\nimport  Alert  from 'react-bootstrap/Alert'\r\nimport { Link } from 'react-router-dom'\r\nimport User from './User'\r\nimport './user.css'\r\nconst UserList = ({users,deleteUser,usercount}) => {\r\n    const [flip, setflip] = useState(false);\r\n    users = users.filter(u=>(u.fist_name !== ''));\r\n    useEffect(()=>{\r\n        (usercount === 0) ? setflip(true):setflip(false);\r\n    },[usercount]);\r\n    return (\r\n        <>\r\n        <Alert variant='primary' className={(flip)?'cus-show':'cus-hide'} onClose={()=>{setflip(false)}} dismissible>Currently There are No users{' '}<Alert.Link><Link style={{color:'inherit'}}to='/adduser/'>Click to Add New User</Link></Alert.Link></Alert>\r\n        <Container>\r\n        <div id=\"page-content-wrapper\">\r\n            <div className=\"container-fluid\">\r\n               <Row xs={3}>\r\n                     {\r\n                    users.map(u=>(\r\n                        <Col key={u.email}>\r\n                        <User key={u.email} email={u.email} firstname={u.fist_name} lastname={u.last_name} handleclick={deleteUser}/>\r\n                        </Col>    \r\n                    ))\r\n                }\r\n                </Row>\r\n            </div>\r\n        </div>\r\n    </Container>\r\n    </>\r\n    )\r\n}\r\n\r\nexport default UserList","import React from \"react\";\r\nimport { NavLink } from \"react-router-dom\";\r\nimport {FaUsers} from 'react-icons/fa';\r\nimport {GiHamburgerMenu} from'react-icons/gi';\r\nimport {ImUserPlus } from 'react-icons/im'\r\nimport './navbar.css'\r\nconst Nav = (props) => {\r\n\r\n  return (\r\n    <header>\r\n       <div id=\"sidebar-wrapper\">\r\n            <ul className=\"sidebar-nav\">\r\n                <li className=\"sidebar-brand\">\r\n                        Navigation\r\n                </li>\r\n                 <li>\r\n                <NavLink to='/' exact={true} activeClassName=\"is-active\" style={{textDecoration:\"none\"}}> \r\n                <span className=\"link\"><FaUsers style={{fontSize:'22px',margin:\"5px\"}}/>Existing User</span>\r\n                </NavLink>\r\n                </li>\r\n                <li>\r\n               <NavLink to='/adduser/'  activeClassName=\"is-active\" style={{textDecoration:\"none\"}}>\r\n                <span className=\"link\"><ImUserPlus style={{fontSize:'22px',margin:\"5px\"}}/>Create User</span>\r\n                </NavLink>\r\n                </li>\r\n            </ul>\r\n        </div>\r\n        <nav className=\"nav d-flex align-items-center\">\r\n            <div className='brand'><GiHamburgerMenu className=\"burger\"style={{fontSize:\"28px\",margin:\"10px\"}} onClick={props.toggleClass}/>User Management System</div>\r\n        </nav>\r\n    </header>\r\n  );\r\n};\r\n\r\nexport default Nav;","import React, { useState } from \"react\";\r\nimport Form from \"react-bootstrap/Form\";\r\nimport Row from 'react-bootstrap/Row';\r\nimport Col from 'react-bootstrap/Col';\r\nimport Container from \"react-bootstrap/esm/Container\";\r\nimport Alert from 'react-bootstrap/Alert';\r\nimport { Link } from \"react-router-dom\";\r\nimport './user.css';\r\nconst AddUser = ({handleClick}) => {\r\n  const [newUser, setnewUser] = useState({firstname:'',lastname:'',username:'',email:'',password:''});\r\n    const [success,setsuccess] = useState(false);\r\n    const [failure,setfailure] = useState(false);\r\n   const add = (e)=>{\r\n       e.preventDefault();\r\n       let s = handleClick(newUser); \r\n       console.log(s);\r\n       s.then(res=>{\r\n        if(res)\r\n        {\r\n         setnewUser({firstname:'',lastname:'',username:'',email:'',password:''});\r\n         setsuccess(true);\r\n         console.log('success');\r\n        }\r\n        else\r\n        {\r\n             setfailure(true);\r\n             console.log(\"failure\");\r\n        }\r\n\r\n       })  \r\n   }\r\n  return (\r\n      <div className=\"User-panel\">\r\n          <Alert variant=\"success\" className={`text-center ${success?'cus-show':'cus-hide'}`} dismissible onClose={()=>{setsuccess(false)}}>User successfully Added{' '}<Alert.Link><Link to='/' style={{color:'inherit'}}>View All Users</Link></Alert.Link></Alert>\r\n          <Alert variant=\"danger\" className={`text-center ${failure?'cus-show':'cus-hide'}`} dismissible onClose={()=>{setfailure(false)}}>The Username or Email You entered already exists{' '}<Alert.Link><Link to='/' style={{color:'inherit'}}>View Existing Users</Link></Alert.Link></Alert>\r\n        <Container>\r\n            <div className = 'form-cus'>\r\n            <h1 className=\"text-center mb-3 pt-2\">USER FORM</h1>\r\n            <div className=\"user-form\">\r\n        <Form\r\n          className=\"container\"\r\n          onSubmit={add}\r\n          style={{ maxWidth: \"440px\",\"padding\":\"40px 0\" }}\r\n          autoComplete='off'\r\n        >\r\n          <Row>\r\n            <Col>\r\n              <Form.FloatingLabel\r\n                controlId=\"First Name\"\r\n                label=\"First Name\"\r\n                className=\"mb-3\"\r\n              >\r\n                <Form.Control type=\"text\" placeholder=\"eg:Sam,sara\" value={newUser.firstname}onChange={(e)=>{setnewUser({...newUser,firstname:e.target.value})}} required/>\r\n              </Form.FloatingLabel>\r\n            </Col>\r\n            <Col>\r\n              <Form.FloatingLabel\r\n                controlId=\"Last Name\"\r\n                label=\"Last Name\"\r\n                className=\"mb-3\"\r\n              >\r\n                <Form.Control type=\"text\" placeholder=\"eg:S,Smith\" value={newUser.lastname}onChange={(e)=>{setnewUser({...newUser,lastname:e.target.value})}} required/>\r\n              </Form.FloatingLabel>\r\n            </Col>\r\n          </Row>\r\n          <Form.FloatingLabel\r\n            controlId=\"Username\"\r\n            label=\"Username\"\r\n            className=\"mb-3\"\r\n          >\r\n            <Form.Control type=\"text\" placeholder=\"Username\" value={newUser.username} onChange={(e)=>{setnewUser({...newUser,username:e.target.value})}} required/>\r\n          </Form.FloatingLabel>\r\n          <Form.FloatingLabel\r\n            controlId=\"Email\"\r\n            label=\"Email address\"\r\n            className=\"mb-3\"\r\n          >\r\n            <Form.Control type=\"email\" placeholder=\"name@example.com\" value={newUser.email} onChange={(e)=>{setnewUser({...newUser,email:e.target.value})}} required/>\r\n          </Form.FloatingLabel>\r\n          <Form.FloatingLabel\r\n            controlId=\"Password\"\r\n            label=\"Password\"\r\n            className=\"mb-3\"\r\n          >\r\n            <Form.Control type=\"password\" placeholder=\"Password\" value={newUser.password} onChange={(e)=>{setnewUser({...newUser,password:e.target.value})}} required/>\r\n          </Form.FloatingLabel>\r\n          <div className=\"mt-3 d-flex justify-content-center\">\r\n          <button className=\"btn btn-primary px-3 py-2\">Add User</button>\r\n          </div>\r\n        </Form>\r\n      </div>\r\n      </div>\r\n      </Container>\r\n      </div>\r\n  );\r\n};\r\n\r\nexport default AddUser;\r\n","const Apis = {\r\n    fetchUsers : \"//3.6.93.159:7883/machstatz/get_all_users\",\r\n    addUser : '//3.6.93.159:7883/machstatz/add_new_user',\r\n    deleteUser : '//3.6.93.159:7883/machstatz/delete_existing_user'\r\n}\r\n\r\nexport default Apis","import React,{useState,useEffect} from 'react'\r\nimport 'bootstrap/dist/css/bootstrap.min.css';\r\nimport {BrowserRouter as Router, Switch,Route} from 'react-router-dom'\r\nimport UserList from './UserList';\r\nimport Nav from './Nav';\r\nimport AddUser from './AddUser';\r\nimport Apis from './APIS'\r\nimport axios from 'axios'\r\nimport './App.css'\r\n\r\nconst App = () => {\r\n    const [users, setusers] = useState([]);\r\n    const [toggle,settoggle]=useState(false);\r\n    const fetchUsers = async()=>{\r\n        const res = await axios.get(Apis.fetchUsers);\r\n        return res.data;\r\n    }\r\n    useEffect(()=>{\r\n        const getUsers = async()=>{\r\n            const allUsers = await fetchUsers();\r\n            if(allUsers) setusers(allUsers);\r\n          }\r\n          getUsers();\r\n    },[])\r\n\r\n    const validate = (user)=>{\r\n        let email = user.email;\r\n        let username = user.usename;\r\n        let len = users.filter(u=>(u.email === email||u.username === username)).length\r\n        return len>0? 'exists' : '200';\r\n\r\n    }\r\n    const addUserToServer = async(user)=>{\r\n        console.log(users);\r\n       const status = validate(user);\r\n        if(status === '200')\r\n        {\r\n            let payload = {\r\n                email:user.email,\r\n                fist_name:user.firstname,\r\n                last_name:user.lastname,\r\n                pwd:user.password,\r\n                username:user.username\r\n            }\r\n            console.log(\"adding user\");\r\n            let res = await axios.post(Apis.addUser,payload);\r\n            setusers([...users,payload]);\r\n            console.log(res); \r\n            return true;\r\n        }\r\n        else\r\n        {\r\n            console.log(\"already exists\");\r\n            return false;\r\n        }  \r\n    }\r\n    const deleteUser = async(targetemail)=>{\r\n\r\n       console.log(\"deleted successfully\");\r\n        const updatedList = users.filter(user=>{\r\n          return user.email !== targetemail;\r\n        })\r\n        console.log(updatedList);\r\n        setusers(updatedList);\r\n        const queryParams = {\r\n            email:targetemail\r\n        }\r\n        const res = await axios.delete(Apis.deleteUser+`?email=${targetemail}`,queryParams);\r\n        console.log(res);\r\n    }\r\n    const closeSidebar = ()=>{\r\n        settoggle(!toggle);\r\n        console.log(toggle);\r\n    }\r\n    return (\r\n        <div id=\"wrapper\" className={(toggle ? 'toggled':'')}>\r\n    <Router basename={process.env.PUBLIC_URL}>\r\n        <Nav toggleClass = {closeSidebar}/>\r\n        <Switch>\r\n        <Route path='/adduser/' render = {(props)=>(<AddUser {...props} handleClick={addUserToServer}/>)}/>\r\n        <Route path='/' exact render={(props)=>(<UserList users = {users} deleteUser={deleteUser} usercount = {users.length}/>)}/>\r\n        </Switch>\r\n    </Router>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default App\r\n","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport App from './components/App';\r\n\r\nReactDOM.render(\r\n  <React.StrictMode>\r\n    <App />\r\n  </React.StrictMode>,\r\n  document.getElementById('root')\r\n);"],"sourceRoot":""}